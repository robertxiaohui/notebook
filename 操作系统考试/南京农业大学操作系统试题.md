## 简答题

### 1.什么是文件目录项？什么是索引结点？，它们之间有什么关系？

```
目录项，简称为 dentry，用来记录文件的名字、索引节点指针以及与其他目录项的关联关系。多个关联的目录项，就构成了文件系统的目录结构
索引节点是一个结构，它包含了一个文件的长度、创建及修改时间、权限、所属关系、磁盘中的位置等信息。一个文件系统维护了一个索引节点的数组，每个文件或目录都与索引节点数组中的唯一一个元素对应。系统给每个索引节点分配了一个号码，也就是该节点在数组中的索引号，称为索引节点号。
```

### 2.什么是临界区？在操作系统中为什么要设置临界区？

```

每个进程中访问临界资源的那段代码称为临界区。
不论是硬件临界资源，还是软件临界资源，多个进程必须互斥地对它进行访问。所以设置临界区
```

### 3.什么是系统调用？它与一般的程序调用有什么区别？

```
系统调用是操作系统提供给编程人员的惟一接口。编程人员利用系统调用，在源程序一级动态请求和释放系统资源，调用系统中已有的系统功能来完成那些与机器硬件部分相关的工作以及控制程序的执行速度等。因此，系统调用像一个黑箱子那样，对用户屏蔽了操作系统的具体动作而只提供有关的功能。系统调用与一般过程调用的主要区别如下：
系统调用程序是在核心态执行，调用它们需要一个类似于硬件中断处理的中断处理机制来提供系统服务。（也可按上课时讲的三个方面来阐述）
```

### 4.什么是线程？它与进程的主要的区别是什么？

```
进程是系统进行资源分配的基本单位，有独立的内存地址空间；线程是CPU调度的基本单
位，没有单独地址空间，有独立的钱，局部变量，寄存器，程序计数器等。
创建进程的开销大，包括创建虛似以地址空间等需要大量系统资源；创建线程开销小，基本上只有一个内核对象和个堆钱。
个进程无法直接问另个进程的源：同进程内的多个线程共进程的资进程切开销大。线程切开销小；进程间通信开销大，线程回通信开销小
线程于进程，不能独立执行、每个进程至少要有个线程，成为主丝线程
```







理发店理有一位理发师、一把理发椅和n把供等候理发的顾客坐的椅子。如果没有顾客，理发师便在理发椅上睡觉，一个顾客到来时，顾客必须叫醒理发师，如果理发师正在理发时又有顾客来到，则如果有空椅子可坐，就坐下来等待，否则就离开。

```
mutex1 初始值1  对count进行互斥访问
mutex2 初始值1  对理发师进行互斥访问
service 初始0   服务数


barber(){

 while(1){
    p(service)  //等待服务
     cut_hair()  //进行理发
  }

}



customer()
{
while(1){
   p(mutex1)
    if(count<chairs)
    {
      count++;
      p(mutex2)        //占用理发师理发，否则等待
        count--;        //去理发等待数减少
       v(service)     //唤醒理发师
       get_haircut()  //进行理发
      v(mutex2)
    }
    else
    {
    
      v(mutex1)
    }

}

}
```

