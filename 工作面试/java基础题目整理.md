# java基础题目整理

## 1.String 和 StringBuilder、StringBuffer 的区别？

```
Java 平台提供了两种类型的字符串：String 和 StringBuffer/StringBuilder，
它们可以储存和操作字符串。其中 String 是只读字符串，也就意味着 String 引用的字符串内容是不能被改变的。
只读字符串的意思是，该变量指向的那块内存中的数据不会被改变，可以改变该变量指向的内存
String 变量本质存放的是一个内存地址，即可以改变这个变量的值也就是改变内存地址，但不能改变该内存地址指向的内存块中的内容

而 StringBuffer/StringBuilder 类表示的字符串对象可以直接进行修改。StringBuilder 是 Java 5 中引入的，它和 
StringBuffer 的方法完全相同，区别在于它是在单线程环境下使用的，因为它的所有方面都没有被synchronized 修饰，因此它的效率也比 StringBuffer 要高。


StringBuffer线程安全
StringBuilder线程不安全

```

***\*JVM相关知识\****

下面这张图是JVM的体系结构图：

![img](https://static.oschina.net/uploads/img/202007/24153409_SUXG.jpg)

下面我们了解下Java栈、Java堆、方法区和常量池：

 

***\*Java栈（线程私有数据区）：\****

​    每个Java虚拟机线程都有自己的Java虚拟机栈，Java虚拟机栈用来存放栈帧，每个方法被执行的时候都会同时创建一个栈帧（Stack Frame）用于存储局部变量表、操作栈、动态链接、方法出口等信息。每一个方法被调用直至执行完成的过程，就对应着一个栈帧在虚拟机栈中从入栈到出栈的过程。

 

***\*Java堆（线程共享数据区）：\****

​    在虚拟机启动时创建，此内存区域的唯一目的就是存放对象实例，几乎所有的对象实例都在这里分配。

 

***\*方法区（线程共享数据区）：\****

​    方法区在虚拟机启动的时候被创建，它存储了每一个类的结构信息，例如运行时常量池、字段和方法数据、构造函数和普通方法的字节码内容、还包括在类、实例、接口初始化时用到的特殊方法。在JDK8之前永久代是方法区的一种实现，而JDK8元空间替代了永久代，永久代被移除，也可以理解为元空间是方法区的一种实现。

 

***\*常量池（线程共享数据区）：\****

​    常量池常被分为两大类：静态常量池和运行时常量池。

​    静态常量池也就是Class文件中的常量池，存在于Class文件中。

​    运行时常量池（Runtime Constant Pool）是方法区的一部分，存放一些运行时常量数据。



***\*下面重点了解的是字符串常量池：\****

​    字符串常量池存在运行时常量池之中（在JDK7之前存在运行时常量池之中，在JDK7已经将其转移到堆中）。

​    字符串常量池的存在使JVM提高了性能和减少了内存开销。



